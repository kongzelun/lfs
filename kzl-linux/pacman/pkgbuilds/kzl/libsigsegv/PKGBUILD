# Maintainer: Zelun Kong <zelun.kong@outlook.com>

pkgname=libsigsegv
pkgver=2.14
pkgrel=1
epoch=
arch=('x86_64')
pkgdesc="Page fault detection library"
url="https://www.gnu.org/software/libsigsegv/"
license=('KZL')
depends=(glibc)
source=(https://ftp.gnu.org/gnu/$pkgname/$pkgname-$pkgver.tar.gz{,.sig})
validpgpkeys=('9001B85AF9E1B83DF1BDA942F5BE8B267C6A406D')
sha256sums=('cdac3941803364cf81a908499beb79c200ead60b6b5b40cad124fd1e06caa295'
            'SKIP')

build() {
  cd $pkgname-$pkgver

  ./configure \
    --prefix=/usr \
    --enable-shared

  make -O
}

check() {
  cd $pkgname-$pkgver

  make -O check
}

package() {
  cd $pkgname-$pkgver

  make DESTDIR="$pkgdir/" install
}
