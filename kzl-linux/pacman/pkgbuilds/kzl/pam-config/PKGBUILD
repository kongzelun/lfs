# Maintainer: Zelun Kong <zelun.kong@outlook.com>

pkgname=pam-config
pkgver=2023.03.25
pkgrel=1
epoch=
pkgdesc="PAM configuration"
arch=('x86_64')
url="https://github.com/kongzelun/LFS"
license=('KZL')
backup=(etc/pam.d/system-auth
        etc/pam.d/system-login
        etc/pam.d/system-local-login
        etc/pam.d/system-remote-login
        etc/pam.d/system-services
        etc/pam.d/other)
source=(system-auth
        system-login
        system-local-login
        system-remote-login
        system-services
        other)
sha256sums=('560d444419b8f6a93bb20642e26fe22adaf8968c56191e3e664914f9a7412190'
            '4c77316fe34cbb61990846d58ba0874cca34f1e206510c73ed12bfcb4fe097a9'
            '5aa47286a79e392138e9b4dc373b4c254e7329f7ef5fdb4f945dd0dc3ee2d41c'
            '576f789cb80346c92334ac946a8c8e994b476ec55841e45ea7c55e079ea24f89'
            'bc25506c61d11f2b3111d11c4bb6bbe9878b3649a8dde84965bdc6c5098e9ba9'
            '0cc049cf3fe79c031091d8342a8aef6e8c1e9aa4df9e362614d68d4231d3ac52')

pkgver() {
  date +%Y.%m.%d
}

package() {
  install -dm755 "$pkgdir"/etc/pam.d/
  install -Dm644 "$srcdir"/system-auth "$pkgdir"/etc/pam.d/
  install -Dm644 "$srcdir"/system-login "$pkgdir"/etc/pam.d/
  install -Dm644 "$srcdir"/system-local-login "$pkgdir"/etc/pam.d/
  install -Dm644 "$srcdir"/system-remote-login "$pkgdir"/etc/pam.d/
  install -Dm644 "$srcdir"/system-services "$pkgdir"/etc/pam.d/
  install -Dm644 "$srcdir"/other "$pkgdir"/etc/pam.d/
}
