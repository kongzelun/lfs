# Maintainer: Zelun Kong <zelun.kong@outlook.com>

pkgname=iproute2
pkgver=5.16.0
pkgrel=1
epoch=1
pkgdesc="IP Routing Utilities"
arch=('x86_64')
url="https://git.kernel.org/pub/scm/network/iproute2/iproute2.git"
license=('KZL')
depends=(elfutils iptables)
backup=(etc/iproute2/ematch_map
        etc/iproute2/rt_dsfield
        etc/iproute2/rt_protos
        etc/iproute2/rt_realms
        etc/iproute2/rt_scopes
        etc/iproute2/rt_tables)
options=(staticlibs)
source=(https://www.kernel.org/pub/linux/utils/net/$pkgname/$pkgname-$pkgver.tar.{xz,sign})
sha256sums=('c064b66f6b001c2a35aa5224b5b1ac8aa4bee104d7dce30d6f10a84cb8b01e2f'
            'SKIP')
validpgpkeys=('9F6FC345B05BE7E766B83C8F80A77F6095CDE47E')

build() {
  cd $pkgname-$pkgver

  ./configure

  make
}

package() {
  cd $pkgname-$pkgver

  make DESTDIR="$pkgdir/" SBINDIR="/usr/bin/" install
}
